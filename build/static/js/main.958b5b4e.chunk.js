(window["webpackJsonpteam-app"]=window["webpackJsonpteam-app"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/loader.e8453471.gif"},35:function(e,t,a){e.exports=a(78)},40:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=(a(40),a(3)),i=a(4),s=a(6),u=a(5),m=a(7),p=a(2),f=a(14),d=a(1),h=(a(57),a(58),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"main-nav"},r.a.createElement(p.b,{to:"/",className:"app-name"},"Team App"),r.a.createElement("ul",{className:"sub-nav"},r.a.createElement("li",null,r.a.createElement(p.c,{activeClassName:"active",to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(p.c,{activeClassName:"active",to:"login"},"Login")))))}}]),t}(n.Component)),g=(a(62),function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"By Mohammed Ibrahim")," | ",r.a.createElement("p",null,"DevCAndela"))}),b=(a(63),function(){return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("h1",null,"Hello"),r.a.createElement(g,null))}),E=a(13),v=a.n(E),y=a(16),O=a(17);a(65);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).formInput=function(t){var a=N({},e.state.bodyValue);a[t.target.name]=t.target.value,e.setState({bodyValue:a})},e.handleFormSubmit=Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://team-work-api.herokuapp.com/api/v1/auth/create-user",{method:"POST",body:JSON.stringify(N({},e.state.bodyValue)),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return",d.NotificationManager.error("check your internet connection","Connection error!",3e3));case 5:if("user already exist"!==a.error){t.next=9;break}return t.abrupt("return",d.NotificationManager.error("user already exist","User exists!",3e3));case 9:if("all fields are required"!==a.error){t.next=13;break}return t.abrupt("return",d.NotificationManager.error("all fields are required","Input error!",3e3));case 13:if("gender input length should be more than three characters"!==a.error){t.next=17;break}return t.abrupt("return",d.NotificationManager.error("gender type should be more than three characters","Input error!",3e3));case 17:if("password length should be more than six characters"!==a.error){t.next=21;break}return t.abrupt("return",d.NotificationManager.error("password length should be more than six characters","Input error!",3e3));case 21:if("invalid email format"!==a.error){t.next=25;break}return t.abrupt("return",d.NotificationManager.error("invalid email format","Input error!",3e3));case 25:e.setState({loading:!0}),d.NotificationManager.success("sign up successfull","Successful!",3e3),e.props.history.push("/feeds");case 28:localStorage.setItem("token",a.data.token),localStorage.setItem("id",a.data.authorId);case 30:case"end":return t.stop()}}),t)}))),e.state={loading:!1,bodyValue:{firstName:"",lastName:"",email:"",password:"",gender:"",jobRole:"",department:"",address:""}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.loading;return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",{className:"reg"},"Register for free"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleFormSubmit(),console.log(e.state.bodyValue)}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"firstName",placeholder:"First name",onChange:this.formInput}),r.a.createElement("input",{type:"text",name:"lastName",placeholder:"Last name",onChange:this.formInput})),r.a.createElement("div",null,r.a.createElement("input",{type:"email",name:"email",placeholder:"User@mail.com",onChange:this.formInput}),r.a.createElement("input",{type:"password",name:"password",placeholder:"******",onChange:this.formInput})),r.a.createElement("input",{type:"text",name:"gender",placeholder:"Gender",className:"info",onChange:this.formInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"jobRole",placeholder:"Jobrole",className:"info",onChange:this.formInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"department",placeholder:"Department",className:"info",onChange:this.formInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"address",placeholder:"Address",className:"info",onChange:this.formInput}),r.a.createElement("br",null),t?r.a.createElement("button",{className:"btn-reg"},"loading ..."):r.a.createElement("button",{className:"btn-reg"},"Register")),r.a.createElement("p",null,"Already have an accout? please ",r.a.createElement(p.b,{to:"/login"},"login"))),r.a.createElement(g,null))}}]),t}(n.Component);a(66);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).formInput=function(t){var a=C({},e.state.bodyValue);a[t.target.name]=t.target.value,e.setState({bodyValue:a})},e.handleFormSubmit=Object(y.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://team-work-api.herokuapp.com/api/v1/auth/signin",{method:"POST",body:JSON.stringify(C({},e.state.bodyValue)),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return",d.NotificationManager.error("check your connection","Connection error!",3e3));case 5:if("email does not exist, please sign up"!==a.error){t.next=9;break}return t.abrupt("return",d.NotificationManager.error("user does not exist, please sign up","Error!",3e3));case 9:if("all fields are required"!==a.error){t.next=13;break}return t.abrupt("return",d.NotificationManager.error("all fields are required","Input error!",3e3));case 13:d.NotificationManager.success("log in successful","Successful!",3e3),e.props.history.push("/feeds");case 15:localStorage.setItem("token",a.data.token),localStorage.setItem("id",a.data.authorId);case 17:case"end":return t.stop()}}),t)}))),e.state={bodyValue:{email:"",password:""}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("div",{className:"signin-form-container"},r.a.createElement("h2",{className:"reg"},"Welcome back"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleFormSubmit()}},r.a.createElement("input",{type:"email",placeholder:"User@mail.com",name:"email",className:"details",onChange:this.formInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"******",name:"password",className:"details",onChange:this.formInput}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-reg"},"Log in")),r.a.createElement("p",null,"You don't have an accout? please ",r.a.createElement(p.b,{to:"/register"},"Signup"))),r.a.createElement(g,null))}}]),t}(n.Component),x=a(33),I=a.n(x),P=(a(68),a(69),a(70),a(71),function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("nav",{className:"user-nav"},r.a.createElement(p.b,{to:"/feeds",className:"app-name app"},"Team App"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.c,{activeClassName:"active",to:"/feeds"},"Timeline")),r.a.createElement("li",null,r.a.createElement(p.c,{activeClassName:"active",to:"/article"},"Post Article")),r.a.createElement("li",null,r.a.createElement(p.c,{activeClassName:"active",to:"/gif"},"Post Gif")),r.a.createElement("li",null,r.a.createElement(p.c,{activeClassName:"active",to:"/posts"},"My Posts")),r.a.createElement("li",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("id")}},r.a.createElement(p.b,{to:"/"},"Log Out"))))))});a(72);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var M=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).formInput=function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state.bodyValue);a[t.target.name]=t.target.value,e.setState({bodyValue:a}),console.log(a)},e.state={bodyValue:{title:"",article:""}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(P,null),r.a.createElement("div",{className:"write-article"},r.a.createElement("h1",{className:"header"},"Write Your Article"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Article Title",name:"title",className:"title",onChange:this.formInput}),r.a.createElement("div",{className:"textarea"},r.a.createElement(I.a,{name:"article",model:this.state.content,onModelChanhe:this.handleModelChange})),r.a.createElement("button",{className:"btn-upload"},"Publish"))))}}]),t}(n.Component),T=(a(73),a(74),"https://team-work-api.herokuapp.com/api/v1"),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleFileUpload=function(t){if(!t.target.files[0])return console.log("file upload was cancelled");var a=t.target.files[0].name.substr(0,15),n=t.target.files[0].size;n<=1e3?n="".concat(n.toFixed(1)," bytes"):n>1e3&&n<=1e6?n="".concat((n/1e3).toFixed(1)," kb"):n>1e6&&n<=1e9&&(n="".concat((n/1e6).toFixed(1)," mb")),e.setState({gif:t.target.files[0],fileProp:{name:a,size:n}})},e.handleGifTitle=function(t){e.setState({gifTitle:t.target.value})},e.handleGifPost=Object(y.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("id"),(n=new FormData).append("gif",e.state.gif,e.state.gif.name),n.append("gifTitle",e.state.gifTitle),n.append("gifAuthorId",a),t.next=7,fetch("".concat(T,"/gifs"),{method:"POST",body:n,headers:{authorization:"bearer ".concat(e.state.token)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 7:if(r=t.sent){t.next=10;break}return t.abrupt("return",d.NotificationManager.error("check your internet connection","Connection error!",3e3));case 10:if("image upload must be a gif"!==r.error){t.next=14;break}return t.abrupt("return",d.NotificationManager.error("image upload must be a gif","Error!",3e3));case 14:if("all fields are required"!==r.error){t.next=18;break}return t.abrupt("return",d.NotificationManager.error("upload a gif and add a title","Error!",3e3));case 18:return t.abrupt("return",d.NotificationManager.success("gif image successfully posted","Successful!",3e3));case 19:case"end":return t.stop()}}),t)}))),e.state={gif:null,gifTitle:"",fileProp:{name:"",size:""},token:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");this.setState({token:e}),e||(window.location="http://localhost:3000/login")}},{key:"render",value:function(){var e=this,t=this.state.fileProp,a=t.name,n=t.size;return r.a.createElement("div",{className:"container"},r.a.createElement(P,null),r.a.createElement("div",{className:"gif-upload-container"},r.a.createElement("h1",{className:"header"},"Upload A Gif"),r.a.createElement("div",{className:"upload-gif"},r.a.createElement("input",{type:"file",className:"input",id:"file",style:{display:"none"},onChange:function(t){e.handleFileUpload(t)}}),r.a.createElement("label",{htmlFor:"file"},r.a.createElement("i",{className:"fas fa-plus-circle"})),r.a.createElement("input",{type:"text",placeholder:"Gif title",className:"title",onChange:function(t){return e.handleGifTitle(t)}}),r.a.createElement("div",{className:"preview"},r.a.createElement("p",null,a||"gif name"),r.a.createElement("p",null,n||"gif size")),r.a.createElement("button",{className:"btn-upload",onClick:function(t){return e.handleGifPost(t)}},"Upload"))))}}]),t}(n.Component),G=(a(75),a(34)),A=a.n(G),V=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:A.a,style:{margin:"10em auto",display:"block",width:"15em"},alt:"Loading"}))}}]),t}(n.Component),z="https://team-work-api.herokuapp.com/api/v1",L=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleArticleDelete=function(t){fetch("".concat(z,"/articles/").concat(t),{method:"DELETE",headers:{authorization:"bearer ".concat(e.state.token),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"===e.status&&(d.NotificationManager.success("Article deleted successfully","Successful!",5e3),window.location="http://localhost:3000/posts")})).catch((function(e){return console.log(e),d.NotificationManager.error("check your connection","Connection error!",3e3)}))},e.handleGifDelete=function(t){fetch("".concat(z,"/gifs/").concat(t),{method:"DELETE",headers:{authorization:"bearer ".concat(e.state.token),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"===e.status&&(d.NotificationManager.success("Gif deleted successfully","Successful!",5e3),window.location="http://localhost:3000/posts")})).catch((function(e){return console.log(e),d.NotificationManager.error("check your connection","Connection error!",3e3)}))},e.state={loading:!0,myFeeds:[],myGifs:[],token:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");t||(window.location="http://localhost:3000/login"),fetch("".concat(z,"/feed"),{method:"GET",headers:{authorization:"bearer ".concat(t),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){e.setState({loading:!1,myFeeds:a.data.articles,myGifs:a.data.gifs,token:t}),console.log(e.state.myFeeds)})).catch((function(e){return console.log(e),d.NotificationManager.error("check your connection","Connection error!",3e3)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.myFeeds,n=t.myGifs,c=t.loading,o=parseInt(localStorage.getItem("id"));return r.a.createElement("div",{className:"container"},r.a.createElement(P,null),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"headers"},r.a.createElement("h4",null,"Articles")," | ",r.a.createElement("h4",null,"Gifs")),r.a.createElement("div",{className:"article-container"},c?r.a.createElement(V,null):null===a?r.a.createElement("h1",null,"There are no feeds"):a.map((function(t,a){if(t.authorid===o)return r.a.createElement("div",{className:"articles",key:a},r.a.createElement("div",{className:"article-properties"},r.a.createElement(p.b,{to:"/"},r.a.createElement("h3",null,t.title)),r.a.createElement("p",null,t.createdon)),r.a.createElement("article",null,t.article),r.a.createElement("div",{className:"options"},r.a.createElement("button",{className:"btn update"},"Edit"),r.a.createElement("button",{className:"btn delete",onClick:function(a){a.preventDefault(),e.handleArticleDelete(t.articleid)}},"Delete")))}))),r.a.createElement("div",{className:"gif-container"},n.map((function(t,a){if(t.gifauthorid===o)return r.a.createElement("div",{className:"gifs",key:a},r.a.createElement("img",{src:t.image,alt:"gif",className:"gif-image"}),r.a.createElement("div",{className:"gif-properties"},r.a.createElement("h3",null,t.giftitle),r.a.createElement("div",null,t.gifcreatedon)),r.a.createElement("div",{className:"option"},r.a.createElement("button",{className:"btn delete",onClick:function(a){a.preventDefault(),e.handleGifDelete(t.gifid)}},"Delete")))})))))}}]),t}(n.Component),U=(a(76),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,articleFeeds:[],gifFeeds:[],token:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");fetch("".concat("https://team-work-api.herokuapp.com/api/v1","/feed"),{method:"GET",headers:{authorization:"bearer ".concat(t),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,articleFeeds:t.data.articles,gifFeeds:t.data.gifs})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.articleFeeds,a=e.gifFeeds,n=e.loading;return r.a.createElement("div",{className:"container"},r.a.createElement(P,null),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"headers"},r.a.createElement("h4",null,"Articles")," | ",r.a.createElement("h4",null,"Gifs")),r.a.createElement("div",{className:"article-container"},null===t||n?r.a.createElement(V,null):t.map((function(e,t){return r.a.createElement("div",{className:"articles",key:t},r.a.createElement("div",{className:"article-properties"},r.a.createElement(p.b,{to:"/"},r.a.createElement("h3",{className:"article-title"},e.title)),r.a.createElement("p",null,e.createdon)),r.a.createElement("article",null,e.article))}))),r.a.createElement("div",{className:"gif-container"},a.map((function(e,t){return r.a.createElement("div",{className:"gifs",key:t},r.a.createElement("img",{src:e.image,alt:"gif",className:"gif-image"}),r.a.createElement("div",{className:"gif-properties"},r.a.createElement("h3",null,e.giftitle),r.a.createElement("div",null,e.gifcreatedon)))})))))}}]),t}(n.Component)),q=(a(77),function(){return r.a.createElement("main",{className:"error-page"},r.a.createElement("p",{className:"back-link"},r.a.createElement(p.b,{to:"/"},"Go back to home page")))}),J=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:b}),r.a.createElement(f.a,{path:"/register",component:k}),r.a.createElement(f.a,{path:"/login",component:S}),r.a.createElement(f.a,{path:"/article",component:M}),r.a.createElement(f.a,{path:"/gif",component:F}),r.a.createElement(f.a,{path:"/posts",component:L}),r.a.createElement(f.a,{path:"/feeds",component:U}),r.a.createElement(f.a,{component:q})),r.a.createElement(d.NotificationContainer,null)))}}]),t}(n.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(J,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.958b5b4e.chunk.js.map